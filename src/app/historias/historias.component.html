<div class="relative">
  <!-- Botón Izquierdo -->
  <button
    (click)="scroll('left')"
    class="hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 z-10
           bg-white dark:bg-gray-800 shadow-lg text-gray-800 dark:text-gray-200
           hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full w-10 h-10 items-center justify-center"
    title="Anterior"
  >
    <i class="fa-solid fa-chevron-left"></i>
  </button>

  <!-- Carrusel -->
  <div
    #scrollContainer
    class="flex items-center space-x-3 overflow-x-auto px-3 py-4 scroll-smooth
           bg-white dark:bg-[#242526] border border-gray-200 dark:border-gray-700
           rounded-xl shadow-sm transition-colors duration-300 scrollbar-hide"
  >
    <!-- Crear historia -->
    <div
      class="relative flex-shrink-0 w-24 sm:w-28 md:w-32 h-40 rounded-xl overflow-hidden
             bg-gray-100 dark:bg-gray-800 flex flex-col items-center justify-end
             text-center text-xs font-medium text-gray-700 dark:text-gray-200 cursor-pointer"
    >
      <img
        src="https://i.pravatar.cc/300?u=yo"
        alt="Tu historia"
        class="absolute top-0 left-0 w-full h-3/4 object-cover"
      />
      <button
        class="absolute bottom-10 left-1/2 -translate-x-1/2 bg-blue-600 text-white p-2
               rounded-full border-4 border-white dark:border-gray-900 shadow hover:bg-blue-700 transition"
        title="Crear historia"
      >
        <i class="fa-solid fa-plus"></i>
      </button>
      <span class="pb-2">Crear historia</span>
    </div>

    <!-- Historias -->
    <div
      *ngFor="let h of historias.slice(1)"
      class="relative flex-shrink-0 w-24 sm:w-28 md:w-32 h-40 rounded-xl overflow-hidden
             group cursor-pointer hover:shadow-lg transition duration-300"
    >
      <img
        [src]="h.imagen"
        alt="{{ h.nombre }}"
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
      />

      <!-- Foto de perfil -->
      <div
        class="absolute top-2 left-2 w-9 h-9 rounded-full border-4 overflow-hidden"
        [ngClass]="h.activa ? 'border-blue-500' : 'border-gray-400'"
      >
        <img [src]="h.fotoPerfil" alt="{{ h.nombre }}" class="w-full h-full object-cover" />
      </div>

      <!-- Nombre -->
      <div
        class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent text-white text-xs p-2"
      >
        <p class="truncate">{{ h.nombre }}</p>
      </div>
    </div>
  </div>

  <!-- Botón Derecho -->
  <button
    (click)="scroll('right')"
    class="hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 z-10
           bg-white dark:bg-gray-800 shadow-lg text-gray-800 dark:text-gray-200
           hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full w-10 h-10 items-center justify-center"
    title="Siguiente"
  >
    <i class="fa-solid fa-chevron-right"></i>
  </button>
</div>
